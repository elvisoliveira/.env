# keyboard
exec --no-startup-id setxkbmap -model abnt2 -layout br -variant abnt2

# wallpaper
exec --no-startup-id hsetroot -solid "#67645B"

# pywal
# exec --no-startup-id chbg ~/wallpapers

# font
font pango:Mononoki Nerd Font 10

set $term --no-startup-id tabbed alacritty --embed
set $mod Mod4

set $ws1 "1" 
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

for_window [class="^.*"] border pixel 2
gaps inner 10
gaps outer 5

# bindsym
bindsym --border button1 nop
bindsym --border button2 nop
bindsym --border button3 nop

bindsym $mod+Return               split toggle
bindsym $mod+Shift+Return         exec $term

bindsym $mod+b                    border pixel
bindsym $mod+Shift+b              bar mode toggle
bindsym $mod+Shift+Ctrl+b         exec --no-startup-id fish -c "vf activate pywal && chbg"

bindsym $mod+r                    exec --no-startup-id rofi -combi-modi drun#run -show combi
bindsym $mod+Shift+r              exec i3-msg reload
bindsym $mod+Shift+q              exec i3-msg exit

bindsym --release $mod+Shift+s    exec --no-startup-id flameshot gui

bindsym $mod+f                    floating toggle, resize set 100 ppt 100 ppt, move position center
bindsym $mod+Shift+f              focus mode_toggle

bindsym $mod+z                    fullscreen toggle
bindsym $mod+Shift+z              fullscreen toggle

bindsym $mod+t                    exec --no-startup-id spacefm
bindsym $mod+Shift+t              exec --no-startup-id spacefm

# rofi pulseaudio select sink
bindsym $mod+p                    exec --no-startup-id "~/.config/rofi/scripts/rofi-pulseaudio-select-sink.sh &>> /tmp/i3-rofi-pulseaudio-select-sink-log"

bindsym $mod+v                    exec --no-startup-id clipmenu

bindsym $mod+h                    focus left
bindsym $mod+Shift+h              move left 30
bindsym $mod+Mod1+h               exec --no-startup-id i3resize left

bindsym $mod+j                    focus down
bindsym $mod+Shift+j              move down 30
bindsym $mod+Mod1+j               exec --no-startup-id i3resize down

bindsym $mod+k                    focus up
bindsym $mod+Shift+k              move up 30
bindsym $mod+Mod1+k               exec --no-startup-id i3resize up

bindsym $mod+l                    focus right
bindsym $mod+Shift+l              move right 30
bindsym $mod+Mod1+l               exec --no-startup-id i3resize right

bindsym $mod+Ctrl+l               workspace next
bindsym $mod+Ctrl+h               workspace prev

bindsym $mod+Tab [con_mark="con"] scratchpad show, fullscreen enable
bindsym $mod+Shift+Tab            mark "con", move scratchpad
bindsym $mod+Shift+Ctrl+Tab       unmark "con", floating toggle, fullscreen disable

bindsym $mod+q      kill

# workspaces
bindsym $mod+1    workspace $ws1
bindsym $mod+2    workspace $ws2
bindsym $mod+3    workspace $ws3
bindsym $mod+4    workspace $ws4
bindsym $mod+5    workspace $ws5
bindsym $mod+6    workspace $ws6
bindsym $mod+7    workspace $ws7
bindsym $mod+8    workspace $ws8
bindsym $mod+9    workspace $ws9
bindsym $mod+0    workspace $ws10

bindsym $mod+Shift+1    move container to workspace $ws1
bindsym $mod+Shift+2    move container to workspace $ws2
bindsym $mod+Shift+3    move container to workspace $ws3
bindsym $mod+Shift+4    move container to workspace $ws4
bindsym $mod+Shift+5    move container to workspace $ws5
bindsym $mod+Shift+6    move container to workspace $ws6
bindsym $mod+Shift+7    move container to workspace $ws7
bindsym $mod+Shift+8    move container to workspace $ws8
bindsym $mod+Shift+9    move container to workspace $ws9
bindsym $mod+Shift+0    move container to workspace $ws10

# #---Extra XF86 Keys---# #
bindsym XF86AudioMute           exec --no-startup-id amixer set Master toggle \
                                && pkill -RTMIN+10 i3blocks
bindsym XF86AudioLowerVolume    exec --no-startup-id amixer set Master 1%- \
                                && pkill -RTMIN+10 i3blocks
bindsym XF86AudioRaiseVolume    exec --no-startup-id amixer set Master 1%+ \
                                && pkill -RTMIN+10 i3blocks

# bindsym XF86AudioNext       exec --no-startup-id cmus-remote --next
# bindsym XF86AudioPlay       exec --no-startup-id cmus-remote --pause
# bindsym XF86AudioPrev       exec --no-startup-id cmus-remote --previous
# bindsym XF86AudioStop       exec --no-startup-id cmus-remote --stop

bindsym XF86MonBrightnessDown    exec --no-startup-id xbacklight -dec 15
bindsym XF86MonBrightnessUp      exec --no-startup-id xbacklight -inc 15

bindsym XF86AudioLowerVolume    exec --no-startup-id playerctl --player=mpv volume 0.1-
bindsym XF86AudioRaiseVolume    exec --no-startup-id playerctl --player=mpv volume 0.1+

bindsym XF86AudioPlay           exec --no-startup-id playerctl --player=mpv play-pause
bindsym XF86AudioStop           exec --no-startup-id playerctl --player=mpv stop
bindsym XF86AudioNext           exec --no-startup-id playerctl --player=mpv next
bindsym XF86AudioPrev           exec --no-startup-id playerctl --player=mpv previous

# for_window [class="Eclipse"]               floating disable
# for_window [class="vlc"]                   floating enable, sticky enable, resize set 480
for_window [class="vlc"]                     move to workspace $ws9
for_window [class="scrcpy"]                  floating enable
for_window [class="notepadpp"]               floating enable, sticky enable

# Ragnarok
for_window [class="2010-02-23aragexere.exe"] floating disable

# Firefox
for_window [title="Picture-in-Picture"]      sticky enable, sticky enable

# Zoom
# for_window [class="^zoom$"]                floating enable, sticky enable, move to workspace $ws9
# for_window [title="as_toolbar"]            floating enable, sticky enable, move to workspace $ws9

floating_modifier $mod

# focus_follows_mouse no

# Set colors from Xresources
# Set the color i3 will use if it fails to get colors from Xresources.

# set $tp #00000000
# set $ub #AA0000
# set $uf #FFFFFF
# set $tx #CCCCCC

# set_from_resource $bl i3wm.color0 #F0F0F0
# set_from_resource $bg i3wm.color1 #F0F0F0
# set_from_resource $fg i3wm.color4 #F0F0F0
# set_from_resource $hi i3wm.color7 #F0F0F0

# # class                 border  backgr. text indicator child_border
# client.focused          $hi     $hi     $fg  $bg       $hi
# client.focused_inactive $bg     $bg     $fg  $bg       $tp
# client.unfocused        $bg     $bg     $fg  $bg       $tp
# client.urgent           $bg     $bg     $fg  $bg       $tp
# client.placeholder      $bg     $bg     $fg  $bg       $tp

# client.background       $bg

client.focused          #b58900 #b58900 #fdf6e3 #cb4b16
client.focused_inactive #073642 #073642 #fdf6e3 #073642
client.unfocused        #073642 #073642 #fdf6e3 #073642

bar {
	# i3bar_command i3bar --transparency
	status_command i3blocks
	position top
	mode dock
	modifier none
	# colors {
	#     background $bl
	#     # class            border  background  text
	#     focused_workspace  $bg     $bg         $hi
	#     active_workspace   $hi     $hi         $bg
	#     inactive_workspace $bl     $bl         $tx
	#     urgent_workspace   $fg     $fg         $tx
	# }
	colors {
		background #073642
		statusline #eee8d5
		focused_workspace #cb4b16 #cb4b16 #eee8d5
		active_workspace #cb4b16 #cb4b16 #eee8d5
		inactive_workspace #b58900 #b58900 #eee8d5
	}
}

# pactl list short sinks
# pactl set-default-sink ''
focus_on_window_activation focus
